# SOL 야구! 게임 기획서 (명세서)

## 📌 프로젝트 개요

### 기본 정보
- **게임명**: SOL 야구!
- **게임 타입**: 숫자 야구 (Number Baseball)
- **장르**: 논리 추리 게임
- **개발 도구**: Cursor AI

### 기술 스택
```json
{
  "frontend": "React 18+",
  "styling": "Tailwind CSS",
  "language": "JavaScript (ES6+)",
  "buildTool": "Vite",
  "storage": "localStorage (optional)"
}
```

### 프로젝트 구조
```
project-root/
├── README.md
├── resources/
│   ├── background (배경 이미지)
│   ├── logo (로고 이미지)
│   ├── sol (SOL 캐릭터 이미지)
│   └── moli (MOLI 캐릭터 이미지)
└── (Cursor AI가 생성할 파일들)
```

**중요**: resources 폴더는 프로젝트 루트에 위치하며, 이미지 파일들은 이미 존재합니다.

---

## 🎨 디자인 명세

### 1. 폰트 설정

전역 CSS에 다음 폰트를 적용:

```css
@font-face {
    font-family: 'Isamanru';
    src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_20-10@1.0/GongGothicBold.woff') format('woff');
    font-weight: 700;
    font-display: swap;
}

body {
    font-family: 'Isamanru', sans-serif;
}
```

### 2. 게임 타이틀
- **제목**: "SOL 야구!"

### 3. 이미지 리소스 경로
- **배경 이미지**: `./resources/background`
- **로고 이미지**: `./resources/logo`
- **SOL 캐릭터**: `./resources/sol`
- **MOLI 캐릭터**: `./resources/moli`

### 4. 배경 시스템 요구사항
- 배경 이미지(`resources/background`)를 게임 전체 화면에 고정
- 배경 위에 투명도 조절 가능한 흰색 오버레이 추가
- 오버레이 투명도는 화면별로 다르게 설정 가능 (예: 30%, 50%, 70%)

---

## 🎮 게임 규칙

### 1. 게임 목표
컴퓨터가 숨긴 **겹치지 않는 네 자리 숫자**를 제한된 횟수 안에 맞춘다.

### 2. 정답 숫자 생성 규칙

| 항목 | 내용 | 검증 조건 |
|------|------|----------|
| 숫자 범위 | 0~9 | 각 자리는 0부터 9까지의 숫자 |
| 자릿수 | 4자리 | 정확히 4개의 숫자 |
| 중복 | 불가 | 4개의 숫자가 모두 달라야 함 |
| 유효 예시 | 1234, 0587, 9876 | ✅ |
| 무효 예시 | 1123 (중복), 123 (3자리), 12345 (5자리) | ❌ |

### 3. 판정 시스템

| 판정 | 의미 | 계산 방법 |
|------|------|----------|
| **스트라이크 (S)** | 숫자와 위치 모두 일치 | 같은 인덱스에서 같은 숫자인 개수 |
| **볼 (B)** | 숫자만 일치, 위치 불일치 | 정답에 포함되지만 다른 위치에 있는 숫자 개수 |
| **낫싱 (Nothing)** | 일치하는 숫자 없음 | 스트라이크 0개, 볼 0개 |

**판정 예시**:
```
정답: 1234

입력: 1567 → 1S 0B (첫 번째 자리 '1'만 위치 일치)
입력: 2567 → 0S 1B ('2'는 있지만 위치 다름)
입력: 5678 → 0S 0B (낫싱)
입력: 1243 → 2S 2B ('1','2'는 위치 일치, '4','3'은 있지만 위치 다름)
입력: 1234 → 4S 0B (정답! 게임 승리)
```

### 4. 승패 조건
- **승리**: 4 스트라이크 (4S) 달성
- **패배**: 선택한 난이도의 최대 시도 횟수를 모두 사용했지만 정답을 못 맞춤

---

## 🎯 난이도 시스템

### 난이도별 최대 시도 횟수

| 난이도 | 최대 시도 횟수 | 설명 |
|--------|---------------|------|
| **쉬움 (EASY)** | 14회 | 초보자를 위한 넉넉한 기회 |
| **중간 (NORMAL)** | 11회 | 일반 플레이어를 위한 적당한 난이도 |
| **어려움 (HARD)** | 8회 | 숙련자를 위한 도전적인 난이도 |

---

## 🔄 게임 진행 플로우

### 전체 게임 흐름
```
1. 게임 시작 화면 (캐릭터 선택)
   ↓ 캐릭터 선택 (SOL 또는 MOLI)
2. 난이도 선택 화면
   ↓ 난이도 선택 (쉬움/중간/어려움)
3. 게임 플레이 화면
   ↓ 숫자 입력 및 판정 반복
4. 게임 결과 화면 (승리 또는 패배)
   ↓ 다시 하기 또는 메인으로
```

---

## 📝 핵심 로직 명세

### 1. 정답 생성 로직

**요구사항**:
- 0~9까지의 숫자 중 중복되지 않는 4개를 무작위로 선택
- 결과는 문자열 형태 (예: "1234")

**알고리즘**:
1. 0~9까지의 숫자 배열 생성
2. 배열에서 무작위로 하나씩 선택 (4번 반복)
3. 선택한 숫자는 배열에서 제거 (중복 방지)
4. 선택한 4개의 숫자를 문자열로 결합

---

### 2. 입력 유효성 검사 로직

**검사 항목**:
1. 입력이 정확히 4자리 숫자인지 확인 (정규식: `/^\d{4}$/`)
2. 4개의 숫자가 모두 다른지 확인 (중복 체크)

**반환값**:
- 유효한 경우: `{ valid: true }`
- 유효하지 않은 경우: `{ valid: false, message: "오류 메시지" }`

**오류 메시지**:
- "네 자리 숫자를 입력해주세요." (형식 오류)
- "중복되지 않는 숫자를 입력해주세요." (중복 오류)

---

### 3. 판정 로직 (스트라이크/볼 계산)

**입력**:
- `answer`: 정답 문자열 (예: "1234")
- `guess`: 사용자 입력 문자열 (예: "1567")

**계산 과정**:
1. 스트라이크 계산: 같은 인덱스에서 같은 숫자인 개수
2. 볼 계산: 정답에 포함되지만 다른 위치에 있는 숫자 개수

**반환값**:
- `{ strikes: number, balls: number }`

**결과 텍스트 생성 규칙**:
- 스트라이크와 볼이 모두 0: "낫싱"
- 스트라이크만 있는 경우: "2S"
- 볼만 있는 경우: "2B"
- 둘 다 있는 경우: "1S 2B"

---

### 4. 게임 상태 판정 로직

**입력**:
- `strikes`: 현재 스트라이크 개수
- `currentAttempt`: 현재 시도 횟수
- `maxAttempts`: 최대 시도 횟수

**반환값**:
- `'WON'`: 4S 달성 (승리)
- `'LOST'`: 최대 시도 횟수 초과 (패배)
- `'PLAYING'`: 게임 진행 중

---

## 🖥️ 화면 구성 요구사항

### 1. 게임 시작 화면

**표시 요소**:
- 배경 이미지 (`resources/background`)
- 로고 이미지 (`resources/logo`) - 화면 중앙 상단
- 게임 제목 "SOL 야구!" - 로고 아래
- SOL 캐릭터 선택 버튼 (`resources/sol`)
- MOLI 캐릭터 선택 버튼 (`resources/moli`)

**동작**:
- 캐릭터 버튼 클릭 시 → 난이도 선택 화면으로 전환
- 선택된 캐릭터 정보 저장

**스타일 요구사항**:
- 모든 요소는 화면 중앙 정렬
- 캐릭터 버튼은 호버 시 확대 효과 (scale 1.05)
- 배경 위에 흰색 오버레이 50% 투명도

---

### 2. 난이도 선택 화면

**표시 요소**:
- 배경 이미지 + 오버레이
- 선택된 캐릭터 이미지 (상단)
- 안내 문구: "난이도를 선택하세요!"
- 쉬움 버튼 (14회) - 초록색
- 중간 버튼 (11회) - 노란색
- 어려움 버튼 (8회) - 빨간색

**동작**:
- 난이도 버튼 클릭 시 → 게임 플레이 화면으로 전환
- 선택된 난이도 정보 저장
- 정답 생성

**버튼 색상**:
- 쉬움: 초록색 계열 (green-500)
- 중간: 노란색 계열 (yellow-500)
- 어려움: 빨간색 계열 (red-500)

---

### 3. 게임 플레이 화면

**표시 요소**:

1. **상단 정보 영역**:
   - 선택한 캐릭터 아이콘 (작은 크기)
   - 현재 시도 횟수 표시 (예: "3회 시도")
   - 남은 기회 표시 (예: "남은 기회: 8회")
   - 난이도 뱃지 (예: "중간")

2. **시도 이력 영역** (스크롤 가능):
   - 각 시도별 기록 표시
   - 형식: `[시도 번호] [입력 숫자] → [결과]`
   - 예시:
     ```
     1회  1234  →  2S 1B
     2회  5678  →  낫싱
     3회  1256  →  1S 2B
     ```
   - 최신 시도가 하단에 표시 (역순)

3. **입력 영역**:
   - 4자리 숫자 입력 필드
   - 제출 버튼
   - 유효성 검사 오류 메시지 표시 영역

4. **하단 안내 영역**:
   - 게임 규칙 간단 설명
   - 예: "💡 스트라이크: 숫자와 위치 모두 일치 / 볼: 숫자만 일치"

**동작**:
- 숫자 입력 후 제출 버튼 클릭 → 유효성 검사
- 유효한 입력 → 판정 후 결과 표시
- 유효하지 않은 입력 → 오류 메시지 표시
- 승리 또는 패배 조건 달성 → 결과 화면으로 전환

**스타일 요구사항**:
- 스트라이크 결과: 빨간색 (#FF4444)
- 볼 결과: 노란색 (#FFD700)
- 낫싱 결과: 회색 (#999999)
- 유효하지 않은 입력: 입력 필드 빨간색 테두리
- 유효한 입력: 입력 필드 초록색 테두리

---

### 4. 게임 결과 화면

**승리 화면 표시 요소**:
- 축하 메시지: "🎉 축하합니다! 🎉"
- 캐릭터 이미지 (기쁜 표정/포즈)
- 시도 횟수 표시: "[X]회 만에 성공했습니다!"
- "다시 하기" 버튼
- "메인으로" 버튼

**패배 화면 표시 요소**:
- 아쉬움 메시지: "아쉽네요! 😢"
- 캐릭터 이미지 (아쉬운 표정/포즈)
- 정답 공개: "정답은 [XXXX] 였습니다."
- "다시 하기" 버튼
- "메인으로" 버튼

**동작**:
- "다시 하기" 버튼 → 같은 난이도로 새 게임 시작 (게임 플레이 화면)
- "메인으로" 버튼 → 게임 시작 화면으로 이동

**애니메이션**:
- 결과 화면 진입 시 페이드인 효과
- 캐릭터 이미지 바운스 애니메이션

---

## 💾 데이터 구조

### 게임 상태 객체 구조

```javascript
{
  // 게임 설정
  selectedCharacter: 'sol' | 'moli',  // 선택한 캐릭터
  difficulty: 'EASY' | 'NORMAL' | 'HARD',  // 선택한 난이도
  maxAttempts: 14 | 11 | 8,  // 최대 시도 횟수
  
  // 게임 진행 데이터
  answer: "1234",  // 정답 (문자열)
  currentAttempt: 0,  // 현재 시도 횟수 (0부터 시작)
  
  // 시도 이력
  attempts: [
    {
      attemptNumber: 1,  // 시도 번호
      guess: "1567",  // 입력한 숫자
      strikes: 1,  // 스트라이크 개수
      balls: 0,  // 볼 개수
      timestamp: Date  // 시도 시각 (선택적)
    },
    // ... 더 많은 시도 기록
  ],
  
  // 게임 상태
  status: 'NOT_STARTED' | 'PLAYING' | 'WON' | 'LOST'
}
```

---

## 🎨 UI/UX 세부 요구사항

### 1. 반응형 디자인
- **데스크톱** (1024px 이상): 최대 너비 800px, 중앙 정렬
- **태블릿** (768px ~ 1023px): 너비 100%, 좌우 패딩 40px
- **모바일** (767px 이하): 너비 100%, 좌우 패딩 20px, 폰트 크기 축소

### 2. 입력 필드 동작
- 숫자만 입력 가능 (문자 입력 차단)
- 최대 4자리까지만 입력 가능
- 입력 완료 시 제출 버튼 자동 활성화
- Enter 키로 제출 가능

### 3. 버튼 상호작용
- 호버 효과: 크기 확대 (scale 1.05) + 그림자 강조
- 클릭 효과: 크기 축소 (scale 0.95)
- 비활성화 상태: 투명도 50%, 클릭 불가

### 4. 애니메이션
- 화면 전환: 페이드인 효과 (0.3초)
- 결과 표시: 새로운 시도 기록이 추가될 때 슬라이드 다운
- 오류 메시지: 흔들림 효과 (shake animation)

### 5. 접근성
- 모든 버튼에 명확한 레이블
- 입력 필드에 placeholder 제공
- 충분한 색상 대비 (WCAG AA 기준)

---

## 📱 화면별 레이아웃 요약

### 모든 화면 공통
- 배경: `resources/background` 이미지 full screen
- 오버레이: 흰색 반투명 레이어
- 폰트: Isamanru (GongGothicBold)
- 중앙 정렬된 콘텐츠

### 화면 1: 게임 시작
- 로고 (상단 중앙)
- 제목 "SOL 야구!" (로고 아래)
- 캐릭터 선택 버튼 2개 (가로 배치)

### 화면 2: 난이도 선택
- 캐릭터 아이콘 (상단)
- 안내 문구 (중앙)
- 난이도 버튼 3개 (세로 배치)

### 화면 3: 게임 플레이
- 상단: 게임 정보 (캐릭터, 시도 횟수, 남은 기회)
- 중앙: 시도 이력 목록 (스크롤)
- 하단: 입력 필드 + 제출 버튼

### 화면 4: 게임 결과
- 상단: 결과 메시지
- 중앙: 캐릭터 이미지 + 상세 정보
- 하단: 액션 버튼 2개

---

## ✅ 구현 체크리스트

### Phase 1: 프로젝트 설정
- [ ] React + Vite 프로젝트 생성
- [ ] Tailwind CSS 설정
- [ ] 폰트 적용
- [ ] 이미지 리소스 경로 설정 (./resources/)

### Phase 2: 핵심 로직
- [ ] 정답 생성 함수 구현
- [ ] 유효성 검사 함수 구현
- [ ] 스트라이크/볼 판정 함수 구현
- [ ] 게임 상태 판정 함수 구현

### Phase 3: 화면 구현
- [ ] 게임 시작 화면
- [ ] 난이도 선택 화면
- [ ] 게임 플레이 화면
- [ ] 게임 결과 화면

### Phase 4: 상태 관리
- [ ] 게임 상태 객체 구조 구현
- [ ] 화면 전환 로직
- [ ] 시도 이력 관리
- [ ] 게임 재시작 기능

### Phase 5: UI/UX 개선
- [ ] 반응형 디자인
- [ ] 애니메이션 효과
- [ ] 호버/클릭 상호작용
- [ ] 오류 처리 및 피드백

### Phase 6: 테스트 및 최적화
- [ ] 게임 로직 검증
- [ ] 다양한 화면 크기 테스트
- [ ] 브라우저 호환성 테스트
- [ ] 성능 최적화

---

## 🎯 Cursor AI에게 전달할 핵심 요구사항

### 반드시 지켜야 할 규칙

1. **정답 생성**:
   - 0~9 숫자 중 중복 없이 4개 선택
   - 완전 무작위 생성
   - 문자열 형태로 저장

2. **유효성 검사**:
   - 정확히 4자리 숫자인지 확인
   - 중복된 숫자가 없는지 확인
   - 검사 실패 시 명확한 오류 메시지

3. **판정 로직**:
   - 스트라이크: 인덱스와 값이 모두 일치
   - 볼: 값은 있지만 인덱스가 다름
   - 둘 다 0이면 "낫싱"

4. **리소스 경로**:
   - 모든 이미지는 `./resources/` 경로 사용
   - 절대 경로나 다른 폴더 구조 사용 금지

5. **상태 관리**:
   - 게임 상태를 일관되게 관리
   - 화면 전환 시 필요한 데이터 전달
   - 뒤로가기 방지 또는 처리

---

## 📞 추가 정보

- 이 명세서는 Cursor AI가 코드를 생성할 때 참조할 문서입니다.
- 모든 로직과 UI는 이 명세를 기반으로 구현되어야 합니다.
- 명세에 없는 기능은 추가하지 않습니다.
- 의문사항이 있을 경우 명세서를 먼저 확인하세요.

---

**버전**: 1.0  
**최종 수정일**: 2024년